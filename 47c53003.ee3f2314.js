(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{119:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return h}));var o=n(0),r=n.n(o);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=r.a.createContext({}),p=function(e){var t=r.a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},u=function(e){var t=p(e.components);return r.a.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},b=r.a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,c=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),u=p(n),b=o,h=u["".concat(c,".").concat(b)]||u[b]||d[b]||a;return n?r.a.createElement(h,i(i({ref:t},s),{},{components:n})):r.a.createElement(h,i({ref:t},s))}));function h(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,c=new Array(a);c[0]=b;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i.mdxType="string"==typeof e?e:o,c[1]=i;for(var s=2;s<a;s++)c[s]=n[s];return r.a.createElement.apply(null,c)}return r.a.createElement.apply(null,n)}b.displayName="MDXCreateElement"},167:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/ngrok-tunnel-19ad38122d5cc59792f1edcac83fec69.png"},83:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return i})),n.d(t,"metadata",(function(){return l})),n.d(t,"toc",(function(){return s})),n.d(t,"default",(function(){return u}));var o=n(3),r=n(7),a=(n(0),n(119)),c=["components"],i={id:"getting-started",title:"Getting started"},l={unversionedId:"chaincode-development/getting-started",id:"chaincode-development/getting-started",isDocsHomePage:!1,title:"Getting started",description:"Steps to get started",source:"@site/docs/chaincode-development/getting-started.md",slug:"/chaincode-development/getting-started",permalink:"/hlf-operator/docs/chaincode-development/getting-started",editUrl:"https://github.com/hyperledger-labs/hlf-operator/edit/master/website/docs/chaincode-development/getting-started.md",version:"current",sidebar:"someSidebar1",previous:{title:"Architecture",permalink:"/hlf-operator/docs/chaincode-development/architecture"},next:{title:"Getting started",permalink:"/hlf-operator/docs/chaincode-deployment/getting-started"}},s=[{value:"Steps to get started",id:"steps-to-get-started",children:[]},{value:"Start development in your local environment",id:"start-development-in-your-local-environment",children:[]}],p={toc:s};function u(e){var t=e.components,i=Object(r.a)(e,c);return Object(a.b)("wrapper",Object(o.a)({},p,i,{components:t,mdxType:"MDXLayout"}),Object(a.b)("h2",{id:"steps-to-get-started"},"Steps to get started"),Object(a.b)("p",null,"To start the server, you need the network config with the admin users for each organization."),Object(a.b)("p",null,"You need to download and install the binary from the ",Object(a.b)("a",{parentName:"p",href:"https://github.com/kfsoftware/hlf-cc-dev/releases"},"latest release")," in your local machine:"),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-bash"},'hlf-cc-dev serve --address ":8080" --metrics-address ":8081" --config "<PATH_TO_NETWORK_CONFIG>"\n')),Object(a.b)("h2",{id:"start-development-in-your-local-environment"},"Start development in your local environment"),Object(a.b)("p",null,"You need to have a chaincode that's able to be deployed as an external service; you can take a look at the following templates:"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},"For Go (",Object(a.b)("a",{parentName:"li",href:"https://github.com/kfsoftware/hlf-cc-go-template"},"https://github.com/kfsoftware/hlf-cc-go-template"),")"),Object(a.b)("li",{parentName:"ul"},"For Node.JS (",Object(a.b)("a",{parentName:"li",href:"https://github.com/kfsoftware/hlf-cc-node-template"},"https://github.com/kfsoftware/hlf-cc-node-template"),")"),Object(a.b)("li",{parentName:"ul"},Object(a.b)("strong",{parentName:"li"},"pending")," For Java (",Object(a.b)("a",{parentName:"li",href:"https://github.com/kfsoftware/hlf-cc-java-template"},"https://github.com/kfsoftware/hlf-cc-java-template"),")")),Object(a.b)("p",null,"We recommend using the Go template since it's the easiest one to get started with."),Object(a.b)("p",null,"Once you have the chaincode project set up on your local machine, you need to expose your server to the public; the easiest way to do this is to use a TLS/TCP tunnel, for example, ",Object(a.b)("a",{parentName:"p",href:"https://ngrok.com/download"},"ngrok"),"."),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-bash"},"ngrok tcp 9999 --region=eu # region can be us, eu, au, ap, sa, jp, in\n")),Object(a.b)("p",null,"The previous command will have this output:"),Object(a.b)("p",null,Object(a.b)("img",{alt:"ngrok",src:n(167).default})),Object(a.b)("p",null,"Copy the Forwarding URL, but remove the ",Object(a.b)("inlineCode",{parentName:"p"},"tcp://")," part; for example, if you got ",Object(a.b)("inlineCode",{parentName:"p"},"tcp://6.tcp.eu.ngrok.io:19922"),", then you want to use ",Object(a.b)("inlineCode",{parentName:"p"},"6.tcp.eu.ngrok.io:19922")," for the following command(hlf-cc-dev)."),Object(a.b)("p",null,"After having exposed your chaincode server to the public, you can run the following command to trigger:"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},"Installation of the chaincode on the peers."),Object(a.b)("li",{parentName:"ul"},"Approval of the chaincode definition."),Object(a.b)("li",{parentName:"ul"},"Committing the chaincode definition.")),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-bash"},'CHAINCODE_NAME=template_go\nAPI_URL="http://localhost:8080/graphql"\nSIGNATURE_POLICY="OR(\'Org1MSP.member\', \'Org2MSP.member\')"\nCHAINCODE_ADDRESS_TUNNEL="4.tcp.eu.ngrok.io:13438" # the forwarding URL you get from opening an ngrok tunnel\nhlf-cc-dev start --localChaincode="localhost:9999" \\\n  --chaincodeAddress="${CHAINCODE_ADDRESS_TUNNEL}" \\\n  --chaincode="${CHAINCODE_NAME}" \\\n  --signaturePolicy="${SIGNATURE_POLICY}" \\\n  --env-file="${PWD}/.env" \\\n  --apiUrl="${API_URL}"\n')),Object(a.b)("p",null,"After the successful execution of the previous command, you can follow the instructions on the README.md for each template."),Object(a.b)("p",null,"For example, for Go, you would run the following command:"),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-bash"},"source .env && go run ./main.go\n")),Object(a.b)("p",null,"Then you can go to http://localhost:8080/graphql and test the chaincode by running the following mutation:"),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-graphql"},'mutation invoke {\n  invokeChaincode(input:{\n    chaincodeName:"template_go"\n    function: "InitLedger"\n    args: []\n    transientMap: []\n  }){\n    response\n    transactionID\n    chaincodeStatus\n  }\n}\n\nmutation query {\n  queryChaincode(input:{\n    chaincodeName:"template_go"\n    function: "GetAllAssets"\n    args: []\n    transientMap: []\n  }){\n    response\n    chaincodeStatus\n  }\n}\n\n')),Object(a.b)("p",null,"If there are any issues you run into with the previous mutations, this can be because:"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},"The network config used to start the server is not correct."),Object(a.b)("li",{parentName:"ul"},"The users set up in the network config are not admins."),Object(a.b)("li",{parentName:"ul"},"The chaincode name is not valid."),Object(a.b)("li",{parentName:"ul"},"The chaincode function is not valid.")),Object(a.b)("p",null,"If after checking the previous things you still get an error, please, ",Object(a.b)("a",{parentName:"p",href:"https://github.com/kfsoftware/hlf-cc-dev/issues/new"},"you can open an issue")))}u.isMDXComponent=!0}}]);